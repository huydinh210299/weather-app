(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(36),s=n.n(c),i=(n(54),n(55),n(2)),o=n.n(i),d=n(5),l=n(8),u=n(22),b=n.n(u),j="".concat("https://the-ultimate-api-challenge.herokuapp.com","/").concat("https://www.metaweather.com/api/location"),h=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(l.a)(c,2),i=s[0],u=s[1],h=Object(r.useState)(null),p=Object(l.a)(h,2),x=p[0],m=p[1],f=Object(r.useState)(null),O=Object(l.a)(f,2),w=O[0],v=O[1],g=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(j,"/search"),{params:{query:t}});case 2:if(n=e.sent,(r=n.data)&&0!==r.length){e.next=9;break}return console.log("error"),a("No location is finded!"),u(!1),e.abrupt("return");case 9:return v(r[0].title),e.abrupt("return",r[0]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(j,"/").concat(t));case 2:if(n=e.sent,(r=n.data)&&0!==r.length){e.next=9;break}return console.log("error2"),a("Something went wrong"),u(!1),e.abrupt("return");case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{isError:n,isLoading:i,hasForecast:x,City:w,submitRequest:function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.location,u(!0),a(!1),e.next=5,g(n);case 5:if(r=e.sent,console.log(r),null===r||void 0===r?void 0:r.woeid){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,y(r.woeid);case 11:if(c=e.sent){e.next=14;break}return e.abrupt("return");case 14:u(!1),m(c.consolidated_weather);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},p=n(92),x=n(93),m=function(){return{roundNumber:function(e){return Math.floor(e)}}},f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],O=["January","February","March","April","May","June","July","August","September","October","November","December"],w=function(){return{getCurrentDay:function(e){return f[new Date(e).getDay()]},getCurrentDate:function(e){var t=new Date(e),n=t.getDate();switch(n){case 1:n+="st";break;case 2:n+="nd";break;case 3:n+="rd";break;default:n+="th"}var r=O[t.getMonth()];return"".concat(r," ").concat(n)}}},v=(n(75),n(1)),g=function(e){var t=e.data,n=m().roundNumber,r=w().getCurrentDay;return Object(v.jsxs)("div",{className:"forcast-item",children:[Object(v.jsx)("img",{width:"30",src:"".concat("https://www.metaweather.com/static/img/weather/").concat(t.weather_state_abbr,".svg")}),Object(v.jsxs)("div",{children:[n(t.the_temp)," \xb0C"]}),Object(v.jsx)("div",{children:r(t.applicable_date)})]})},y=(n(77),function(e){var t=e.forecast,n=e.city,r=w(),a=r.getCurrentDay,c=r.getCurrentDate,s=m().roundNumber;return console.log(t),Object(v.jsxs)(p.a,{gutter:16,style:{height:"100%"},children:[Object(v.jsxs)(x.a,{className:"gutter-row weather-image current-day dflex-column-between",span:"8",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"font-25-bold",children:a(t[0].applicable_date)}),Object(v.jsxs)("div",{children:["! ",n]}),Object(v.jsx)("div",{children:c(t[0].applicable_date)})]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"font-25-bold",children:[s(t[0].the_temp),"\xb0C"]}),Object(v.jsx)("div",{children:t[0].weather_state_name})]})]}),Object(v.jsxs)(x.a,{className:"gutter-row dflex-column-between",span:"16",style:{paddingRight:"15px"},children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)("span",{className:"dflex-row-between",children:[Object(v.jsx)("div",{className:"font-13-bold",children:"predictability"}),Object(v.jsxs)("div",{children:[t[0].predictability," %"]})]}),Object(v.jsxs)("span",{className:"dflex-row-between",children:[Object(v.jsx)("div",{className:"font-13-bold",children:"humidity"}),Object(v.jsxs)("div",{children:[t[0].humidity," %"]})]}),Object(v.jsxs)("span",{className:"dflex-row-between",children:[Object(v.jsx)("div",{className:"font-13-bold",children:"wind"}),Object(v.jsxs)("div",{children:[s(t[0].wind_speed)," km/h"]})]}),Object(v.jsxs)("span",{className:"dflex-row-between",children:[Object(v.jsx)("div",{className:"font-13-bold",children:"air pressure"}),Object(v.jsxs)("div",{children:[t[0].air_pressure," mb"]})]}),Object(v.jsxs)("span",{className:"dflex-row-between",children:[Object(v.jsx)("div",{className:"font-13-bold",children:"max temp"}),Object(v.jsxs)("div",{children:[s(t[0].max_temp)," \xb0C"]})]}),Object(v.jsxs)("span",{className:"dflex-row-between",children:[Object(v.jsx)("div",{className:"font-13-bold",children:"min temp"}),Object(v.jsxs)("div",{children:[s(t[0].min_temp)," \xb0C"]})]})]}),Object(v.jsx)("div",{className:"dflex-row-between forecast-wrapper",children:t.map((function(e,t){return 0!=t&&Object(v.jsx)(g,{data:e},t)}))})]})]})}),N=n(43),C=n(47),k=(n(78),function(e){var t=e.handleRequest,n=Object(C.a)(),r=n.register,a=n.handleSubmit;return Object(v.jsxs)("form",{onSubmit:a(t),id:"search-form",children:[Object(v.jsx)("input",Object(N.a)({type:"text",name:"location",placeholder:"Type the location"},r("location"))),Object(v.jsx)("button",{type:"submit",className:"btn-grad",children:"SEARCH"})]})}),S=n(94);var _=function(){var e=h(),t=(e.isError,e.isLoading),n=e.hasForecast,r=e.City,a=e.submitRequest;return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("div",{style:{fontSize:"30px",textAlign:"center",color:"white"},children:["Weather ",Object(v.jsx)("b",{children:"Forecast"})]}),!n&&Object(v.jsxs)("div",{className:"box",children:[Object(v.jsx)(k,{handleRequest:a}),t&&Object(v.jsx)(S.a,{style:{width:"100%",marginTop:"10px"}})]}),n&&Object(v.jsx)("div",{className:"box forecast",children:Object(v.jsx)(y,{forecast:n,city:r})})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(_,{})}),document.getElementById("root")),D()}},[[90,1,2]]]);
//# sourceMappingURL=main.47c965f8.chunk.js.map